/*!build time : 2014-03-09 2:59:14 PM*/
KISSY.add("gallery/hoverdir/1.0/index",function(a,b,c){function d(a){var b=this;d.superclass.constructor.call(b,a),b._init()}var e=b.all;return a.extend(d,c,{_init:function(){this._loadEvents()},_loadEvents:function(){var a=this,b=a.get("elCls"),c=a.get("slideElCls");e(a.get("hoverProxy")).delegate("mouseenter.hoverdir, mouseleave.hoverdir","."+b,function(b){var d=e(b.currentTarget),f=d.one("."+c),g=a._getDir(d,{x:b.pageX,y:b.pageY}),h=a._getClasses(g);a._resetClass(f),"mouseenter"===b.type?(f.hide().addClass(h.from),clearTimeout(a.tmhover),a.tmhover=setTimeout(function(){f.show().addClass(h.to)},a.get("hoverDelay"))):(clearTimeout(a.tmhover),f.addClass(h.from))})},_resetClass:function(a){var b="data-class-old",c=a.attr(b);c?a.attr("class",c):(c=a.attr("class"),a.attr(b,c))},_getDir:function(a,b){var c=a.width(),d=a.height(),e=(b.x-a.offset().left-c/2)*(c>d?d/c:1),f=(b.y-a.offset().top-d/2)*(d>c?c/d:1),g=Math.round((Math.atan2(f,e)*(180/Math.PI)+180)/90+3)%4;return g},_getClasses:function(a){return{from:this.get("fromClass")[this.get("reverse")?(a+2)%4:a],to:this.get("toClass")[a]}}},{ATTRS:{elCls:{value:"ks-hover-item"},hoverDelay:{value:0},reverse:{value:!1},slideElCls:{value:"ks-slide-item"},hoverProxy:{value:document},fromClass:{value:["ks-slideFromTop","ks-slideFromRight","ks-slideFromBottom","ks-slideFromLeft"]},toClass:{value:["ks-slideTop","ks-slideRight","ks-slideBottom","ks-slideLeft"]}}}),d},{requires:["node","base"]});